```
filename = 'testDataNov292022'
fullAddress = os.path.join(data_dir, filename)                                  #instead of typing a file name in the 'with open', this creates a filename and the place to save it

with open(fullAddress + '.csv', mode='w', newline='') as csvFile:
    fieldnames = ['block', 'trial', 'problem','correct_answer','subject_response','subject_accuracy', 'response_time']
    data_writer = csv.DictWriter(csvFile, fieldnames=fieldnames)
    
    data_writer.writeheader()
    for iBlock in range(nBlocks):
        for iTrial in range(nTrials):
            data_writer.writerow({'block':iBlock, 'trial':iTrial,
                                  'problem':prob[iBlock]['problem'][iTrial],
                                  'correct_answer':corr_resp[iBlock]['correct_answer'][iTrial],
                                  'subject_response': sub_resp[iBlock]['subject_response'][iTrial],
                                  'subject_accuracy': sub_acc[iBlock]['subject_accuracy'][iTrial],
                                  'response_time': resp_time[iBlock]['response_time'][iTrial]})
```
